<div class="main-content">
  <div class="contact-header">
    <h1>{{ translations.header[currentLang] }}</h1>
  </div>

  <div class="contentContainer">
    <div class="text-content">
      <div>
        <h2>{{ translations.subheader[currentLang] }}</h2>
        <span>{{ translations.description[currentLang] }}</span>
      </div>
    </div>

    <div class="contact-form">
      <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm" novalidate>
        <div class="personal-group">
          <div class="form-group">
            <div class="form-group">
              <label for="name">{{ translations.labels.name[currentLang] }}</label>
              <input #name="ngModel" [(ngModel)]="contactData.name" name="name" id="name" type="text" required
                pattern="^(?!\s*$)[A-Za-zÄÖÜäöüß\- ]{2,}$" autocomplete="off"
                [class.is-error]="name.invalid && name.touched" (focus)="hideErrorPopup('name')"
                (blur)="name.invalid ? showErrorPopup('name') : null" />
              <div class="error-popup" *ngIf="errorPopups.name" [@fadeInOut]>
                {{ translations.errorPlaceholders.name[currentLang] }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="form-group">
              <label for="email">{{ translations.labels.email[currentLang] }}</label>
              <input #email="ngModel" [(ngModel)]="contactData.email" name="email" id="email" type="email" required
                pattern="^(?!\s*$)[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[A-Za-z]{2,}$" autocomplete="off"
                [class.is-error]="email.invalid && email.touched" (focus)="hideErrorPopup('email')"
                (blur)="email.invalid ? showErrorPopup('email') : null" />
              <div class="error-popup" *ngIf="errorPopups.email" [@fadeInOut]>
                {{ translations.errorPlaceholders.email[currentLang] }}
              </div>
            </div>
          </div>
        </div>

        <div class="message-group">
          <div class="message-group">
            <label for="message">{{ translations.labels.message[currentLang] }}</label>
            <textarea #message="ngModel" [(ngModel)]="contactData.message" name="message" id="message" rows="1" required
              minlength="4" autocomplete="off" [class.is-error]="message.invalid && message.touched"
              (focus)="hideErrorPopup('message')" (blur)="message.invalid ? showErrorPopup('message') : null">
            </textarea>
            <div class="error-popup-message" *ngIf="errorPopups.message" [@fadeInOut]>
              {{ translations.errorPlaceholders.message[currentLang] }}
            </div>
          </div>
        </div>

        <div class="agreement-group">
          <div class="agreement">
            <a (click)="navigateAndScroll(['/legal', 'privacy-policy'])">
              {{ translations.checkbox[currentLang] }}
            </a>
          </div>
          <input [(ngModel)]="contactData.agreement" #agreement="ngModel" required class="checkbox" type="checkbox"
            id="agreementbox" name="agreement" />
        </div>

        <div class="submit-wrapper">
          <input type="submit" class="submit-btn" [value]="translations.submit[currentLang]"
            [disabled]="contactForm.invalid" />
          <div class="checkbox-tooltip" *ngIf="isFormAlmostValid || isSuccess" [class.success]="isSuccess">
            {{ isSuccess ? successHint : checkboxHint }}
          </div>
        </div>

      </form>
    </div>
  </div>
</div>

<div class="arrow-wrapper">
  <img src="assets/icons/arrow2.png" alt="Back to top" class="bounce-arrow" (click)="scrollToHero()" />
</div>